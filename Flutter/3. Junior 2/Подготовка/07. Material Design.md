# Material Design

---

## 1. Исторический экскурс
**Material Design** — эволюционирующая дизайн-система от Google, созданная для унификации интерфейсов на всех платформах.  
- **2014 (Material 1)**: Введение концепции «цифровой бумаги» с тенями, слоями и тактильной обратной связью.  
- **2018 (Material 2)**: Улучшение компонентов для адаптивности (планшеты, десктопы), упор на доступность.  
- **2021 (Material 3 / Material You)**: Персонализация через динамические цвета, поддержка складных устройств, экосистемный подход.

---

## 2. Базовые принципы Material Design (с примерами правильного/неправильного)

### 2.1 **Material как метафора**
- **Суть**: Элементы интерфейса ведут себя как физические объекты (бумага, чернила).  
- **Правильно**:
  ```dart
  Card(
    elevation: 4, // Реалистичная тень
    child: Padding(
      padding: EdgeInsets.all(16),
      child: Text('Контент'),
    ),
  )
  ```
- **Неправильно**: Использование `elevation: 20` (неестественно большая тень).

### 2.2 **Смелый, графичный, осознанный**
- **Смелость**: Контрастные цвета, крупные заголовки.  
- **Правильно**:
  ```dart
  Text('Заголовок', style: Theme.of(context).textTheme.headlineLarge),
  ```
- **Неправильно**: Использование серого текста на белом фоне без контраста.

### 2.3 **Motion provides meaning**
- **Суть**: Анимации объясняют логику взаимодействия.  
- **Правильно**: Плавное раскрытие FAB в расширенную кнопку:
  ```dart
  FloatingActionButton.extended(
    onPressed: () {},
    icon: Icon(Icons.add),
    label: Text('Создать'),
  )
  ```
- **Неправильно**: Резкие, несвязанные с действием анимации.

---

## 3. Компоненты Material 2 (полный список)

### 3.1 **Навигация**
- **AppBar**: Верхняя панель с заголовком и действиями.  
  ```dart
  AppBar(
    title: Text('Главная'),
    actions: [
      IconButton(icon: Icon(Icons.search), onPressed: () {}),
    ],
  )
  ```
- **BottomNavigationBar**: Нижняя панель для 3-5 пунктов.  
  [Документация](https://api.flutter.dev/flutter/material/BottomNavigationBar-class.html)

### 3.2 **Действия**
- **FloatingActionButton (FAB)**: Основное действие на экране.  
  ```dart
  FloatingActionButton(
    onPressed: () {},
    child: Icon(Icons.add),
  )
  ```
- **IconButton**: Действия в AppBar.  
  ```dart
  IconButton(icon: Icon(Icons.share), onPressed: () {})
  ```

### 3.3 **Отображение информации**
- **Card**: Контейнер для связанного контента.  
  ```dart
  Card(child: ListTile(title: Text('Элемент списка')))
  ```
- **ListTile**: Элемент списка с иконкой и текстом.  
  ```dart
  ListTile(
    leading: Icon(Icons.email),
    title: Text('example@mail.com'),
  )
  ```

### 3.4 **Ввод данных**
- **TextField**: Поле для текста.  
  ```dart
  TextField(decoration: InputDecoration(labelText: 'Имя'))
  ```
- **Checkbox/Radio/Switch**: Выбор опций.  
  ```dart
  Switch(value: _value, onChanged: (v) { setState(() => _value = v); })
  ```

### 3.5 **Диалоги и уведомления**
- **SnackBar**: Временное уведомление внизу экрана.  
  ```dart
  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text('Сообщение сохранено')),
  )
  ```
- **AlertDialog**: Модальное окно для подтверждения.  
  ```dart
  showDialog(context: context, builder: (ctx) => AlertDialog(title: Text('Внимание!')))
  ```

---

## 4. Компоненты Material 3 (Material You)

### 4.1 **Динамические цвета**
- **Суть**: Цветовая схема генерируется на основе обоев устройства.  
  ```dart
  MaterialApp(
    theme: ThemeData(
      colorScheme: ColorScheme.fromSeed(
        seedColor: Colors.deepPurple, // Базовый цвет
        brightness: Brightness.light,
      ),
    ),
  )
  ```

### 4.2 **Новые компоненты**
- **NavigationRail**: Боковая панель для планшетов.  
  ```dart
  NavigationRail(
    destinations: [
      NavigationRailDestination(icon: Icon(Icons.home), label: Text('Главная')),
    ],
    selectedIndex: _selectedIndex,
  )
  ```
- **SearchBar**: Расширенный поиск с анимацией.  
  ```dart
  SearchBar(
    hintText: 'Поиск...',
    onTap: () => openSearchScreen(),
  )
  ```

### 4.3 **Адаптивные компоненты**
- **Adaptive Scaffold**: Автоматическая адаптация макета под размер экрана.  
  ```dart
  Scaffold(
    body: AdaptiveLayout(
      primaryNavigation: NavigationRail(...),
      bottomNavigation: BottomNavigationBar(...),
    ),
  )
  ```

---

## 5. Адаптивность в Material 3
- **Breakpoints**: Предопределенные точки перехода для разных устройств.  
  ```dart
  LayoutBuilder(
    builder: (context, constraints) {
      if (constraints.maxWidth > 600) {
        return TabletLayout();
      } else {
        return MobileLayout();
      }
    },
  )
  ```
- **Container Queries**: Динамическое изменение стилей в зависимости от размера контейнера.

---

## 6. Эффекты чернил (Ink)
- **Назначение**: Визуальная обратная связь при касании.  
- **Реализация через InkWell**:
  ```dart
  InkWell(
    onTap: () {},
    splashColor: Colors.blue.withOpacity(0.3),
    child: Container(width: 100, height: 100),
  )
  ```
- **InkResponse**: Кастомизируемый эффект:
  ```dart
  InkResponse(
    onTap: () {},
    containedInkWell: true,
    radius: 30,
  )
  ```

---

## 7. Тени (Elevation)
- **Назначение**: Показывают глубину элементов.  
- **Реализация**:
  ```dart
  Card(
    elevation: 6, // Уровень высоты (0-24)
    shadowColor: Colors.black.withOpacity(0.5),
    child: ...,
  )
  ```
- **Кастомизация**:
  ```dart
  PhysicalModel(
    color: Colors.white,
    elevation: 8,
    shadowColor: Colors.purple, // Нестандартный цвет
    child: ...,
  )
  ```

---

## 8. Примеры значимой анимации

### 8.1 **Hero-анимация**
```dart
// Экран 1
Hero(
  tag: 'avatar',
  child: CircleAvatar(backgroundImage: AssetImage('avatar.png')),
);

// Экран 2
Hero(
  tag: 'avatar',
  child: CircleAvatar(backgroundImage: AssetImage('avatar.png', radius: 100)),
);
```

### 8.2 **Анимация перехода**
```dart
PageRouteBuilder(
  pageBuilder: (context, animation, secondaryAnimation) => NewScreen(),
  transitionsBuilder: (context, animation, secondaryAnimation, child) {
    return SlideTransition(
      position: Tween<Offset>(begin: Offset(1, 0), end: Offset.zero)
        .animate(animation),
      child: child,
    );
  },
)
```

---

## 9. Практическое задание
**Задача**: Создать адаптивное приложение (мобильные + планшеты) с использованием Material 3.  
**Требования**:  
1. Динамические цвета на основе seedColor.  
2. Навигация: BottomNavigationBar для мобильных, NavigationRail для планшетов.  
3. Анимация Hero для деталей элементов.  
4. Кастомизированные тени и Ink-эффекты.  

**Пример реализации**:
```dart
// Адаптивная навигация
LayoutBuilder(
  builder: (context, constraints) {
    if (constraints.maxWidth > 600) {
      return NavigationRail(...);
    } else {
      return BottomNavigationBar(...);
    }
  },
)
```

---

## 10. Контрольные вопросы
1. Назовите 5 основных компонентов Material 2 и их аналоги в Material 3.  
2. Как реализовать динамическое изменение цвета AppBar на основе обоев устройства?  
3. В чем разница между `InkWell` и `GestureDetector`?  
4. Как адаптировать интерфейс для планшетов с помощью Material 3?  
5. Почему тени важны в Material Design?  

---

## 11. Литература
1. [Официальный гайд Material 3](https://m3.material.io)  
2. [Flutter Material Components](https://docs.flutter.dev/ui/widgets/material)  
3. [Документация по адаптивности](https://docs.flutter.dev/development/ui/layout/adaptive-responsive)  
4. [Видео: Material You в Flutter](https://youtu.be/rsmXjN4q8YI)  
