# **Лекция: Git для разработчика Flutter (Уровень Intern)**  
**Тема: 10. Git — основы работы с ветвями, коммитами и удалёнными репозиториями**

---

## **Введение**
Git — это система контроля версий, которая позволяет отслеживать изменения в коде, сохранять историю изменений, управлять несколькими версиями проекта и сотрудничать с другими разработчиками. Для Flutter-разработчика Git является незаменимым инструментом: он позволяет работать над проектами в команде, сохранять критически важные моменты (например, фикс багов или реализацию новых функций), а также управлять разными версиями приложения.

В этой лекции мы подробно рассмотрим:
- Как создавать и переключаться между ветками.
- Что такое коммит и как его правильно оформить.
- Как отправлять изменения на удалённый репозиторий (push).
- Различие между `pull` и `fetch`, а также как их использовать.

---

## **1. Ветви (Branches) — создание, переключение и управление**

### **Что такое ветки?**
В Git ветка (branch) — это самостоятельная линия разработки. Она позволяет:
- Работать над новой функцией без изменения текущего кода.
- Исправлять баги в отдельной ветке, чтобы не повредить основную версию проекта.
- Тестировать изменения до их объединения с основным кодом.

### **Создание и переключение на новую ветку**
1. **Создать ветку**:
   ```bash
   git branch feature/new-feature
   ```
   Эта команда создаёт новую ветку `feature/new-feature`, но не переключает вас на неё.

2. **Переключиться на ветку**:
   ```bash
   git checkout feature/new-feature
   ```
   Теперь вы работаете в этой ветке. Все новые изменения будут сохранены именно здесь, а не в основной (например, `main`).

3. **Создать и перейти на ветку за один шаг**:
   ```bash
   git checkout -b feature/new-feature
   ```
   Эта команда эквивалентна предыдущим двум.

### **Пример: Работа с ветками в Flutter-проекте**
Предположим, вы работаете над функцией "Уведомления" и хотите сделать её в отдельной ветке:
```bash
# Создание и переключение на ветку для уведомлений
git checkout -b feature/notifications

# Добавляем файлы и изменения (например, добавляем новый экран уведомлений)
touch lib/screens/notifications_screen.dart

# Добавляем изменение в индекс
git add lib/screens/notifications_screen.dart

# Созаем коммит
git commit -m "Добавлен экран уведомлений"
```

### **Переключение между ветками**
Чтобы вернуться на основную ветку (`main`):
```bash
git checkout main
```
Все изменения, сделанные в `feature/notifications`, будут сохранены в этой ветке, и вы не потеряете их.

---

## **2. Commit — фиксация изменений**

### **Что такое коммит (commit)?**
Коммит — это момент времени, когда Git фиксирует текущее состояние проекта. Каждый коммит содержит:
- Хэш (уникальный идентификатор).
- Сообщение о том, какие изменения были внесены.
- Ссылки на предыдущие коммиты.

### **Шаги для создания коммита**
1. **Добавить файлы в индекс**:
   ```bash
   git add <путь_к_файлу>
   ```
   Пример: 
   ```bash
   git add lib/models/user_model.dart
   ```

2. **Создать коммит**:
   ```bash
   git commit -m "Краткое описание изменений"
   ```
   Пример сообщения: `"Исправлен баг с отображением ошибок в форме регистрации"`.

3. **Просмотр истории коммитов**:
   ```bash
   git log
   ```
   Отобразит список всех коммитов, хэши, даты и сообщения.

### **Пример: Коммит в Flutter-проекте**
```bash
# Добавляем изменения в индекс
git add pubspec.yaml

# Создаём коммит с описанием
git commit -m "Обновлены зависимости для поддержки Dart 3.0"
```

---

## **3. Push — отправка изменений на удалённый репозиторий**

### **Что такое `push`?**
Команда `push` отправляет ваши локальные коммиты в удалённый репозиторий (например, на GitHub, GitLab или Bitbucket). Это позволяет сохранить изменения в облаке и делиться ими с другими разработчиками.

### **Шаги для отправки изменений**
1. **Связать локальный репозиторий с удалённым**:
   ```bash
   git remote add origin https://github.com/yourusername/yourproject.git
   ```
   Здесь `origin` — это имя удалённого репозитория, а URL указывает на ваш проект.

2. **Отправить коммиты в удалённый репозиторий**:
   ```bash
   git push -u origin main
   ```
   Параметр `-u` устанавливает связь между локальной веткой `main` и удалённой версией. После первого `push` можно использовать просто:
   ```bash
   git push
   ```

### **Пример: Отправка изменений**
Предположим, вы работаете на ветке `feature/notifications` и хотите отправить её на GitHub.
```bash
# Связываем локальный репозиторий с удалённым
git remote add origin https://github.com/yourusername/flutter_notification_app.git

# Отправляем изменения на удалённый репозиторий
git push -u origin feature/notifications
```

---

## **4. Pull и Fetch — получение изменений из удалённого репозитория**

### **Что такое `fetch`?**
Команда `fetch` загружает изменения из удалённого репозитория в ваш локальный, но **не объединяет** их с текущей веткой. Это позволяет:
- Просмотреть новые коммиты.
- Принять решения о том, как их интегрировать.

Пример:
```bash
git fetch origin
```
Выведет список изменений из удалённого репозитория (`origin`).

### **Что такое `pull`?**
Команда `pull` — это комбинация `fetch + merge`. Она загружает изменения и сразу объединяет их с текущей веткой.

Пример:
```bash
git pull origin main
```
Эта команда обновит вашу локальную ветку `main`, добавив все изменения из удалённой версии.

### **Различие между `pull` и `fetch`**
| Команда | Что делает | Когда использовать |
|--------|------------|-------------------|
| `git fetch` | Загружает изменений, но не объединяет их | Для проверки изменений перед слиянием |
| `git pull` | Загружает и сразу объединяет изменения | Для обновления локальной ветки |

### **Пример: Работа с `pull` и `fetch`**
```bash
# Получить все изменения из удалённого репозитория (но не объединять)
git fetch origin

# Объединить изменения в текущей ветке (например, main)
git pull origin main
```

### **Решение конфликтов при `pull`**
Если при слиянии возникают конфликты (например, два разработчика изменили один и тот же файл), Git отмечает это как "conflict". Нужно:
1. Открыть проблемный файл в редакторе.
2. Вручную выбрать, какие изменения сохранить.
3. Сохранить файл и выполнить:
   ```bash
   git add <имя_файла>
   git commit -m "Решение конфликта"
   ```

---

## **Практическое задание**
1. Создайте новый Flutter-проект с помощью команды:
   ```bash
   flutter create my_app
   cd my_app
   ```
2. Инициализируйте Git в проекте:
   ```bash
   git init
   ```
3. Свяжите репозиторий с удалённым (например, на GitHub):
   ```bash
   git remote add origin https://github.com/yourusername/my_app.git
   ```
4. Создайте новую ветку `feature/login` и переключитесь на неё:
   ```bash
   git checkout -b feature/login
   ```
5. Добавьте новый экран в приложение (например, `lib/screens/login_screen.dart`) и сделайте коммит:
   ```bash
   touch lib/screens/login_screen.dart
   git add .
   git commit -m "Добавлен экран входа"
   ```
6. Отправьте изменения на удалённый репозиторий:
   ```bash
   git push -u origin feature/login
   ```
7. Вернитесь на ветку `main` и выполните команду `pull`, чтобы обновить её:
   ```bash
   git checkout main
   git pull origin main
   ```

---

## **Контрольные вопросы**
1. Что такое ветка (branch) в Git? Приведите пример создания и переключения на новую ветку.
2. Какие шаги необходимы для отправки коммита на удалённый репозиторий?
3. Чем отличается `pull` от `fetch`? В каких случаях лучше использовать каждый из них?
4. Как выглядит сообщение коммита, и почему оно важно?
5. Что произойдёт, если два разработчика внесут изменения в один и тот же файл, и как Git это обрабатывает?

---

## **Список литературы и ссылки для дополнительного чтения**
1. [Официальная документация GitHub](https://docs.github.com/ru)
2. [Git: Pro Git (Книга)](https://git-scm.com/book/ru/v2) — подробное руководство по работе с Git.
3. [Flutter и Git — официальные рекомендации](https://flutter.dev/docs/development/tools-and-ecosystem/versioning)
4. Курс на Udemy: "Git и GitHub для начинающих" (ссылка: https://www.udemy.com/course/git-and-github-for-beginners/)
5. [Руководство по Git от Atlassian](https://www.atlassian.com/git/tutorials)
6. [Flutter-проекты в Git: лучшие практики](https://medium.com/@johndoe/flutter-git-best-practices-a8d4c2f1e0a7)

---

## **Итог**
Git — это основной инструмент для разработчика, особенно при работе над проектами в команде. Понимание веток, коммитов, `push`, `pull` и `fetch` позволяет эффективно управлять кодом, избежать конфликтов и сохранять историю изменений. Для Flutter-разработчика это особенно важно: при работе с несколькими версиями приложения, тестировании новых функций и интеграции с другими разработчиками.

Следуя этим принципам, вы сможете уверенно использовать Git в своих проектах на уровне Intern.