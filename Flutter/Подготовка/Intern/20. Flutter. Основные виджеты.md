<think>
Okay, I need to create a comprehensive lecture on the main widgets in Flutter for an Intern-level mobile developer. The user wants detailed explanations and examples using Dart and Flutter, with each topic from the list covered thoroughly. Let me start by breaking down each widget one by one.

First, Icon: I should explain what it is, how to use it with IconData, and maybe show different sizes and colors. Example code would be helpful here, like using an IconButton or placing an Icon in a Row or Column.

Next, AppBar. Need to cover its basic structure, title, actions, leading, etc. Maybe include customizing the background color or adding elevation. An example of a Scaffold with an AppBar would be good.

Container is next. It's versatile, so I should talk about its properties like child, margin, padding, alignment, decoration (color, border), and transform. Examples showing different configurations could help, maybe changing colors and adding borders.

LayoutBuilder requires explaining how it responds to layout constraints. An example where the widget adjusts based on available space might be useful, like a responsive container or a grid that changes depending on screen size.

Scaffold is fundamental in Flutter apps. I need to detail its main components: appBar, body, drawer, bottomNavigationBar, etc. Show a basic Scaffold with all these parts and maybe how to handle navigation with Navigator.

Text and customizing text involves fonts, sizes, colors, styles (bold, italic), text alignment, overflow handling. Examples with different Text widgets and TextStyle objects would be good. Maybe show how to use RichText for mixed styling.

Column and Row are layout widgets. Explain their main purpose in arranging children vertically or horizontally. Discuss MainAxisAlignment and CrossAxisAlignment, wrapping in Expanded or Flexible if needed. Example code showing a simple Column with multiple texts and a Row with icons.

AspectRatio is used to maintain a specific aspect ratio. Examples could be an image inside a container with a fixed width-to-height ratio or a widget that resizes based on the aspect ratio constraint.

ConstrainedBox vs UnconstrainedBox: Explain their roles in applying constraints. ConstrainedBox adds min/max constraints, while UnconstrainedBox allows children to ignore some constraints. Maybe show an example where a child is limited in size with ConstrainedBox and how it behaves without constraints.

Expanded and Flex are part of the layout system. Expanded makes children take available space, while Flex (like Row or Column) arranges them. Example showing a Row with Expanded widgets that stretch to fill the container's width.

FittedBox scales its child to fit within its constraints. Explain BoxFit options and when it's useful, like scaling an image to fit without distortion. Example code using FittedBox around an Image widget.

Offstage hides a widget but keeps it in the render tree, which is different from Visibility. Use case might be for animations where the widget needs to stay in the tree but not visible. Example of toggling Offstage based on a condition.

OverflowBox allows content to exceed parent constraints. Useful when you need a widget larger than its container. Show an example where a Text widget with overflow: OverflowBox and some padding around it.

IntrinsicHeight and IntrinsicWidth adjust layout based on intrinsic dimensions of children. Explain how they enforce size based on child content, useful in complex layouts. Example using these widgets to make sure a Row's height is determined by the tallest child.

Opacity changes the transparency of a widget. Discuss Opacity widget vs setting color with alpha values. Example showing two Text widgets with different opacities and maybe animating opacity.

Transform applies transformations like rotation, scaling, translation. Use Transform.rotate or Transform.scale. Example rotating an Icon or scaling a container.

ClipRect clips its child to the bounds of the widget. Explain when it's useful, like clipping images within a specific area. Example using ClipRect around an Image with a rounded corner.

ListView and GridView: Cover vertical scrolling lists (ListView) vs grid layouts (GridView). Discuss how to use them with itemBuilder, slivers, and different grid configurations (like GridView.count or GridView.builder). Examples showing both widgets with sample data.

Practical assignment should involve creating a UI using these widgets. Maybe build a dashboard with AppBar, icons, text, buttons, lists, and grids.

Control questions need to test understanding of each widget's purpose and usage scenarios.

Literature links: Official Flutter docs for widgets, articles on Medium or Dev.to about layout widgets, and maybe some books like "Flutter in Action" or online courses.

I should make sure the examples are detailed with comments explaining each part. Also, check that each section is thorough enough for an intern to understand without missing key points. Avoid being too brief; go into depth on each widget's properties and use cases.
</think>

# **Лекция 20: Flutter. Основные виджеты**

---

## **1. Icon**
**Описание**:  
`Icon` — это визуальный элемент, используемый для отображения иконок (иконографии). Он работает с типами `IconData`, которые представляют собой заранее определённые символы (например, из пакета `material_icons`). Icon часто используется в кнопках (`IconButton`), меню или как самостоятельный элемент.

**Свойства**:  
- `icon`: обязательный параметр — объект `IconData`.  
- `size`: задаёт размер иконки.  
- `color`: цвет иконки (поддерживает `Colors`, `MaterialColor` и прозрачность).  

**Пример**:  
```dart
IconButton(
  icon: Icon(Icons.home, size: 32, color: Colors.blue),
  onPressed: () {
    // Обработка нажатия
  },
);
```

---

## **2. AppBar**
**Описание**:  
`AppBar` — это компонент верхнего колонтитула, который отображает заголовок, действия (например, кнопки) и вспомогательные элементы. Он является частью `Scaffold`.

**Свойства**:  
- `title`: строка или виджет для заголовка.  
- `actions`: список виджетов (например, `IconButton`).  
- `leading`: слева от заголовка (например, кнопка "назад").  
- `elevation`: высота тени под AppBar.

**Пример**:  
```dart
Scaffold(
  appBar: AppBar(
    title: Text("Мой AppBar"),
    actions: [
      IconButton(icon: Icon(Icons.search), onPressed: () {}),
    ],
    leading: IconButton(icon: Icon(Icons.menu), onPressed: () {}),
  ),
  body: Center(child: Text("Контент")),
);
```

---

## **3. Container**
**Описание**:  
`Container` — универсальный виджет, который позволяет применять стили (цвета, рамки, тени) и управлять расположением дочерних элементов.

**Свойства**:  
- `child`: один дочерний виджет.  
- `margin`, `padding`: отступы.  
- `alignment`: выравнивание дочернего контента.  
- `decoration`: стиль (цвет, фон, рамка).  

**Пример**:  
```dart
Container(
  margin: EdgeInsets.all(16),
  padding: EdgeInsets.symmetric(vertical: 8),
  alignment: Alignment.center,
  decoration: BoxDecoration(
    color: Colors.yellow,
    border: Border.all(color: Colors.black),
    borderRadius: BorderRadius.circular(12),
  ),
  child: Text("Пример Container"),
);
```

---

## **4. LayoutBuilder**
**Описание**:  
`LayoutBuilder` позволяет получить информацию о текущих ограничениях (размерах) контейнера, в котором находится виджет. Это полезно для адаптивного размещения элементов.

**Свойства**:  
- `child`: дочерний виджет.  

**Пример**:  
```dart
LayoutBuilder(
  builder: (context, constraints) {
    return Text("Доступная ширина: ${constraints.maxWidth} пикселей");
  },
);
```

---

## **5. Scaffold**
**Описание**:  
`Scaffold` — основной виджет для создания пользовательского интерфейса в Flutter. Он предоставляет стандартные компоненты (AppBar, навигационное меню и др.).

**Свойства**:  
- `appBar`: объект `AppBar`.  
- `body`: основной контент.  
- `bottomNavigationBar`: нижнее навигационное меню.  
- `drawer`: боковое меню.  

**Пример**:  
```dart
Scaffold(
  appBar: AppBar(title: Text("Сcaffold")),
  body: Center(child: Text("Основной контент")),
  bottomNavigationBar: BottomAppBar(
    child: Row(
      mainAxisAlignment: MainAxisAlignment.spaceEvenly,
      children: [Icon(Icons.home), Icon(Icons.settings)],
    ),
  ),
);
```

---

## **6. Text и кастомизация текста**
**Описание**:  
`Text` — виджет для отображения текста с возможностью настройки шрифта, цвета, выравнивания и пр.

**Свойства**:  
- `data`: текстовое содержание.  
- `style`: объект `TextStyle` для кастомизации (шрифт, размер, цвет).  

**Пример**:  
```dart
Text(
  "Пример текста",
  style: TextStyle(
    fontSize: 24,
    fontWeight: FontWeight.bold,
    color: Colors.green,
    backgroundColor: Colors.grey[300],
    overflow: TextOverflow.ellipsis,
  ),
);
```

---

## **7. Column и Row**
**Описание**:  
`Column` и `Row` — базовые линейные макеты для размещения виджетов по вертикали/горизонтали.

**Свойства**:  
- `mainAxisAlignment`: выравнивание вдоль оси (например, ` MainAxisAlignment.center`).  
- `crossAxisAlignment`: выравнивание поперёк оси.  

**Пример**:  
```dart
Column(
  mainAxisAlignment: MainAxisAlignment.spaceEvenly,
  children: [
    Text("Элемент 1"),
    Row(children: [Icon(Icons.star), Icon(Icons.star)],),
    Text("Элемент 3"),
  ],
);
```

---

## **8. AspectRatio**
**Описание**:  
`AspectRatio` — виджет, который заставляет дочерний элемент соблюдать заданное соотношение сторон (ширина/высота).

**Пример**:  
```dart
Container(
  width: 200,
  child: AspectRatio(
    aspectRatio: 16 / 9,
    child: Image.network("https://via.placeholder.com/320x180"),
  ),
);
```

---

## **9. ConstrainedBox и UnconstrainedBox**
**Описание**:  
- `ConstrainedBox` накладывает ограничения на дочерний элемент (например, минимальный размер).  
- `UnconstrainedBox` позволяет игнорировать некоторые ограничения родителя.

**Пример**:  
```dart
Container(
  width: 100,
  child: ConstrainedBox(
    constraints: BoxConstraints(minWidth: 200),
    child: Text("Здесь текст будет шириной не менее 200 пикселей"),
  ),
);
```

---

## **10. Expanded и Flex**
**Описание**:  
- `Expanded` — расширяет дочерний виджет до доступного пространства.  
- `Flex` (Row/Column) — основа для размещения элементов в гибких макетах.

**Пример**:  
```dart
Row(
  children: [
    Expanded(child: Text("Элемент 1")),
    Container(width: 50, color: Colors.red),
  ],
);
```

---

## **11. FittedBox**
**Описание**:  
`FittedBox` масштабирует дочерний элемент, чтобы он помещался в пространство родителя с разными режимами (например, `BoxFit.cover`).

**Пример**:  
```dart
Container(
  width: 100,
  child: FittedBox(
    fit: BoxFit.contain,
    child: Text("Длинный текст"),
  ),
);
```

---

## **12. Offstage**
**Описание**:  
`Offstage` скрывает виджет, но не удаляет его из дерева. Это полезно для анимаций и условного отображения.

**Пример**:  
```dart
bool isVisible = true;
Offstage(
  offstage: !isVisible,
  child: Text("Этот текст будет скрыт, если isVisible == false"),
);
```

---

## **13. OverflowBox**
**Описание**:  
`OverflowBox` позволяет содержимому выходить за пределы родителя (например, для создания переполнения).

**Пример**:  
```dart
OverflowBox(
  maxWidth: 300,
  child: Text("Длинный текст, который выходит за пределы контейнера"),
);
```

---

## **14. IntrinsicHeight и IntrinsicWidth**
**Описание**:  
`IntrinsicHeight` и `IntrinsicWidth` — виджеты, которые заставляют контейнер принимать размеры, соответствующие содержимому.

**Пример**:  
```dart
Row(
  children: [
    Container(width: 50, height: 100),
    IntrinsicHeight(child: Text("Высота зависит от текста")),
  ],
);
```

---

## **15. Opacity**
**Описание**:  
`Opacity` изменяет прозрачность дочернего элемента.

**Пример**:  
```dart
Container(
  color: Colors.blue,
  child: Opacity(
    opacity: 0.5,
    child: Text("Полупрозрачный текст"),
  ),
);
```

---

## **16. Transform**
**Описание**:  
`Transform` позволяет применять преобразования (вращение, масштабирование, сдвиг).

**Пример**:  
```dart
Transform.rotate(
  angle: math.pi / 4,
  child: Icon(Icons.arrow_forward),
);
```

---

## **17. ClipRect**
**Описание**:  
`ClipRect` обрезает дочерний элемент до прямоугольника, заданного родителем.

**Пример**:  
```dart
Container(
  width: 200,
  height: 200,
  child: ClipRect(
    child: Image.network("https://via.placeholder.com/400x300"),
  ),
);
```

---

## **18. ListView и GridView**
**Описание**:  
- `ListView` — вертикальный список для отображения скроллируемых элементов.  
- `GridView` — грид (сетка) для размещения элементов в ячейках.

**Пример**:  
```dart
ListView.builder(
  itemCount: 10,
  itemBuilder: (_, index) => ListTile(title: Text("Элемент $index")),
);

GridView.count(
  crossAxisCount: 2,
  children: List.generate(4, (i) => Icon(Icons.star)),
);
```

---

## **Практическое задание**  
Создайте UI-панель с использованием всех рассмотренных виджетов. Панель должна содержать:  
1. `AppBar` с иконкой и заголовком.  
2. `Container` с текстом и фоном.  
3. `Row` и `Column`, включающие `Icon`, `Text`, `Expanded`.  
4. `GridView` или `ListView` для отображения списка элементов.  

---

## **Контрольные вопросы**  
1. Какие свойства у `Container`? Приведите пример.  
2. Для чего используется `LayoutBuilder`?  
3. В чём разница между `ConstrainedBox` и `UnconstrainedBox`?  
4. Как настроить стиль текста в Flutter?  
5. Что такое `Expanded` и как он работает?  
6. Как использовать `AspectRatio` для изображений?  
7. Для чего нужен `Offstage`?  
8. Какие преобразования можно применять с помощью `Transform`?  

---

## **Литература и ссылки**  
- [Официальная документация Flutter: Widgets](https://docs.flutter.dev/flutter/widgets/widgets-library.html)  
- [Medium: Flutter Layouts Explained](https://medium.com/flutter-community/flutter-layouts-explained-94e3022d5516)  
- Книга: *Flutter in Action* (Manning Publications).  
- Курс: [Flutter для начинающих на Udemy](https://www.udemy.com/course/flutter-course-for-beginners/)  
- GitHub: Примеры кода из репозитория [flutter/examples](https://github.com/flutter/flutter/tree/master/examples)  

---

Эта лекция охватывает базовые виджеты Flutter, их применение и примеры. Для глубокого понимания рекомендуется практиковаться на реальных проектах и изучать официальную документацию.